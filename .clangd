# --------------------------------------------------------------------------
# clangd configuration for AISocks (cross-platform: Windows, macOS, Linux)
# --------------------------------------------------------------------------

# Use the compile_commands.json from the project root.
# CMake automatically copies it there from the build directory.
CompileFlags:
  CompilationDatabase: .
  # Fallback include path so clangd resolves <Socket.h> even before
  # compile_commands.json is regenerated after a clean.
  Add:
    - "-Ilib/include"
  # Remove Windows-specific Clang flags that confuse clangd
  Remove:
    - "-Xclang"
    - "--dependent-lib=*"
    - "-gcodeview"

# Do not index the C++ standard library headers or pull them into
# completion/navigation results. This keeps "Go to Definition" fast
# and avoids thousands of irrelevant symbols appearing in autocomplete.
Index:
  StandardLibrary: false

Diagnostics:
  UnusedIncludes: None
  Suppress:
    - unused-includes

# ------------------------------------------------------------------
# Per-path overrides: silence diagnostics and skip background
# indexing for system SDK, OS, and socket headers (cross-platform).
# ------------------------------------------------------------------
---
If:
  PathMatch:
    # macOS system headers
    - /Applications/Xcode.app/.*
    - /usr/include/.*
    - /usr/local/include/.*
    - /Library/Developer/.*
    # Windows system headers
    - .*\\Windows Kits\\.*
    - .*\\Microsoft Visual Studio\\.*
    - .*\\LLVM\\.*
    - .*\\ClangPowerTools\\.*
    - C:\\Program Files.*
Diagnostics:
  Suppress: "*"
Index:
  Background: Skip
