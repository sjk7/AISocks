# --------------------------------------------------------------------------
# clangd configuration for AISocks
# --------------------------------------------------------------------------

# Use the compile_commands.json generated by the mac build.
# This provides accurate per-file include paths and flags.
CompileFlags:
  CompilationDatabase: build-mac/
  # Fallback include path so clangd resolves <Socket.h> even before
  # compile_commands.json is regenerated after a clean.
  Add:
    - "-I../lib/include"

# Do not index the C++ standard library headers or pull them into
# completion/navigation results. This keeps "Go to Definition" fast
# and avoids thousands of irrelevant symbols appearing in autocomplete.
Index:
  StandardLibrary: false

# ------------------------------------------------------------------
# Per-path overrides: silence diagnostics and skip background
# indexing for system SDK, OS, and socket headers.
# ------------------------------------------------------------------
---
If:
  PathMatch:
    - /Applications/Xcode.app/.*
    - /usr/include/.*
    - /usr/local/include/.*
    - /Library/Developer/.*
Diagnostics:
  Suppress: "*"
Index:
  Background: Skip
